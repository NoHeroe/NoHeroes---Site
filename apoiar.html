<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Apoio Vitalista | NoHeroes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/scrollreveal"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0a0a0a;
      color: #e5e5e5;
    }
    h1, h2 {
      font-family: 'Playfair Display', serif;
    }
    html {
      scroll-behavior: smooth;
    }
    .logo-glow {
      animation: glow 2s infinite ease-in-out;
    }
    @keyframes glow {
      0%, 100% { filter: drop-shadow(0 0 8px #8f4fff); }
      50% { filter: drop-shadow(0 0 16px #8f4fff); }
    }
  </style>
</head>
<body class="text-center p-6">
  <!-- LOGO -->
  <a href="index.html">
    <img src="assets/images/noheroes logo.png" alt="Logo NoHeroes" class="mx-auto w-40 logo-glow">
  </a>

  <!-- FRASE IMPACTO -->
  <h2 class="text-xl italic mt-6 opacity-70">“Até mesmo os mundos mais sombrios precisam de luz para existir.”</h2>
  <p class="mt-4 max-w-xl mx-auto text-base">Você está prestes a alimentar não um projeto, mas um universo inteiro. Criado do zero, com alma e suor, por um criador que quer mudar vidas com arte, anime e verdade. Aqui, cada contribuição fortalece uma ideia que já é maior do que eu. <strong>Ajude a manter Caelum vivo. Torne-se um Vitalista, ou uma das sombras de Caelum.</strong></p>

  <!-- BOTÕES -->
  <div class="mt-12 space-y-4">
    <!-- Contribuir com Pix -->
    <button onclick="openPixModal()" class="bg-[#8f4fff] text-black px-6 py-3 rounded-lg font-bold hover:scale-105 transition">
      Contribuir com Pix
    </button>
    <!-- Quero ajudar de outras formas -->
    <button onclick="openForm('ajudarOutrasFormas')" class="bg-[#1c1c1c] text-white px-6 py-3 rounded-lg border border-[#555] hover:border-[#8f4fff]">
      Quero ajudar de outras formas
    </button>
    <!-- Quero fazer uma parceria -->
    <button onclick="openForm('fazerParceria')" class="bg-[#1c1c1c] text-white px-6 py-3 rounded-lg border border-[#555] hover:border-[#8f4fff]">
      Quero fazer uma parceria
    </button>
    <!-- Quero investir no projeto -->
    <button onclick="openForm('investirProjeto')" class="bg-[#1c1c1c] text-white px-6 py-3 rounded-lg border border-[#555] hover:border-[#8f4fff]">
      Quero investir no projeto
    </button>
    <!-- Preciso de apoio no meu projeto -->
    <button onclick="openForm('apoioProjeto')" class="bg-[#1c1c1c] text-white px-6 py-3 rounded-lg border border-[#555] hover:border-[#8f4fff]">
      Preciso de apoio no meu projeto
    </button>
    <!-- Siga as sombras -->
    <button onclick="openSocials()" class="bg-[#333] text-white px-6 py-3 rounded-lg border border-[#666] hover:border-[#8f4fff]">
      Siga as Sombras
    </button>
  </div>

  <!-- MODALS -->
  <!-- Modal Pix -->
  <div id="pixModal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center">
    <div class="bg-[#1c1c1c] p-6 rounded-lg max-w-lg w-full text-left">
      <h3 class="text-2xl font-bold text-[#8f4fff] mb-4">Contribuir com Pix</h3>
      <form id="pixForm" onsubmit="generateQRCode(event)">
        <label for="valor" class="block mb-2 text-sm">Digite o valor da contribuição (R$):</label>
        <input type="number" id="valor" name="valor" step="0.01" min="1" required class="w-full p-2 mb-4 bg-[#333] text-white rounded">
        <button type="submit" class="bg-[#8f4fff] text-black px-4 py-2 mt-4 rounded hover:bg-[#39ff14]">
          Gerar QR Code Pix
        </button>
      </form>
      <div id="qrCodeContainer" class="hidden mt-4">
        <h4 class="text-lg text-[#8f4fff] mb-2">Escaneie o QR Code</h4>
        <div id="qrcode" class="mb-4"></div>
        <button onclick="confirmPayment()" class="bg-[#8f4fff] text-black px-4 py-2 mt-4 rounded hover:bg-[#39ff14]">
          Já efetuei o pagamento
        </button>
      </div>
      <button onclick="closeModal('pixModal')" class="mt-4 text-[#8f4fff] underline">Fechar</button>
    </div>
  </div>

  <!-- Mensagem de Agradecimento -->
  <div id="thankYouContainer" class="hidden mt-6 text-center bg-[#1c1c1c] p-6 rounded-lg">
    <h2 class="text-xl font-bold text-[#8f4fff] mb-4">Obrigado!</h2>
    <p class="text-white italic">
      “As sombras de Caelum consumiram sua oferenda com prazer. Agora você caminha guardado pela benção de um Guardião Divino. Obrigado por sua coragem, Vitalista.”
    </p>
    <button onclick="resetPage()" class="bg-[#8f4fff] text-black px-4 py-2 mt-4 rounded hover:bg-[#39ff14]">
      Voltar
    </button>
  </div>

  <!-- SCRIPTS -->
  <script>
    // Gera o código Pix Payload Format
    function generatePixPayload(valor) {
      const chavePix = "sua-chave-pix-aqui"; // Substitua pela sua chave Pix
      const nomeRecebedor = "Seu Nome ou Empresa"; // Substitua pelo nome do recebedor
      const cidade = "Sua Cidade"; // Substitua pela cidade
      const valorFormatado = valor.toFixed(2);

      return `00020126330014br.gov.bcb.pix0114${chavePix}0212PagamentodoPix520400005303986540${valorFormatado}5802BR5925${nomeRecebedor}6009${cidade}6304`;
    }

    // Função para gerar o QR Code
    function generateQRCode(event) {
      event.preventDefault();

      const valor = parseFloat(document.getElementById("valor").value);
      if (isNaN(valor) || valor <= 0) {
        alert("Por favor, insira um valor válido.");
        return;
      }

      const payload = generatePixPayload(valor);
      const qrCodeContainer = document.getElementById("qrcode");

      // Limpa o container anterior, se necessário
      qrCodeContainer.innerHTML = "";

      // Gera o QR Code
      QRCode.toCanvas(qrCodeContainer, payload, { width: 256 }, function (error) {
        if (error) console.error(error);
      });

      // Mostra o QR Code e o botão de confirmação
      document.getElementById("qrCodeContainer").classList.remove("hidden");
    }

    // Confirmar pagamento
    function confirmPayment() {
      document.getElementById("pixModal").classList.add("hidden");
      document.getElementById("thankYouContainer").classList.remove("hidden");
    }

    // Voltar para o início
    function resetPage() {
      document.getElementById("thankYouContainer").classList.add("hidden");
      document.getElementById("pixModal").classList.remove("hidden");
      document.getElementById("pixForm").reset();
    }

    // Função para abrir o modal Pix
    function openPixModal() {
      document.getElementById('pixModal').classList.remove('hidden');
    }

    // Função para fechar modais
    function closeModal(id) {
      document.getElementById(id).classList.add('hidden');
    }
  </script>
</body>
</html>